<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Dialect/Bufferization/Transforms/OneShotModuleBufferize.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">16.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_556cbcf41dc9f6a4cebed138b2acfeaf.html">Bufferization</a></li><li class="navelem"><a class="el" href="dir_6a00c96d3d316031f3639df96a4a4a79.html">Transforms</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">OneShotModuleBufferize.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="OneShotModuleBufferize_8h_source.html">mlir/Dialect/Bufferization/Transforms/OneShotModuleBufferize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BufferizableOpInterface_8h_source.html">mlir/Dialect/Bufferization/IR/BufferizableOpInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferization_8h_source.html">mlir/Dialect/Bufferization/IR/Bufferization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferize_8h_source.html">mlir/Dialect/Bufferization/Transforms/Bufferize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html">mlir/Dialect/Bufferization/Transforms/FuncBufferizableOpInterfaceImpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OneShotAnalysis_8h_source.html">mlir/Dialect/Bufferization/Transforms/OneShotAnalysis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TensorCopyInsertion_8h_source.html">mlir/Dialect/Bufferization/Transforms/TensorCopyInsertion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FuncOps_8h_source.html">mlir/Dialect/Func/IR/FuncOps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemRef_8h_source.html">mlir/Dialect/MemRef/IR/MemRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Operation_8h_source.html">mlir/IR/Operation.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for OneShotModuleBufferize.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="OneShotModuleBufferize_8cpp__incl.png" border="0" usemap="#lib_2Dialect_2Bufferization_2Transforms_2OneShotModuleBufferize_8cpp" alt=""/></div>
<map name="lib_2Dialect_2Bufferization_2Transforms_2OneShotModuleBufferize_8cpp" id="lib_2Dialect_2Bufferization_2Transforms_2OneShotModuleBufferize_8cpp">
<area shape="rect" id="node2" href="OneShotModuleBufferize_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/OneShotModuleBufferize.h" alt="" coords="5,102,280,143"/>
<area shape="rect" id="node3" href="BufferizableOpInterface_8h.html" title="mlir/Dialect/Bufferization\l/IR/BufferizableOpInterface.h" alt="" coords="877,199,1086,240"/>
<area shape="rect" id="node4" href="IR_2Operation_8h.html" title="mlir/IR/Operation.h" alt="" coords="303,295,449,322"/>
<area shape="rect" id="node26" href="Bufferization_8h.html" title="mlir/Dialect/Bufferization\l/IR/Bufferization.h" alt="" coords="1345,102,1530,143"/>
<area shape="rect" id="node32" href="Bufferize_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/Bufferize.h" alt="" coords="3474,102,3659,143"/>
<area shape="rect" id="node34" href="FuncBufferizableOpInterfaceImpl_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/FuncBufferizableOpInterface\lImpl.h" alt="" coords="1019,95,1304,151"/>
<area shape="rect" id="node35" href="OneShotAnalysis_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/OneShotAnalysis.h" alt="" coords="720,102,944,143"/>
<area shape="rect" id="node37" href="TensorCopyInsertion_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/TensorCopyInsertion.h" alt="" coords="305,102,551,143"/>
<area shape="rect" id="node38" href="FuncOps_8h.html" title="mlir/Dialect/Func/IR\l/FuncOps.h" alt="" coords="1997,199,2145,240"/>
<area shape="rect" id="node45" href="MemRef_8h.html" title="mlir/Dialect/MemRef\l/IR/MemRef.h" alt="" coords="2856,102,3011,143"/>
<area shape="rect" id="node11" href="PatternMatch_8h.html" title="mlir/IR/PatternMatch.h" alt="" coords="1178,295,1345,322"/>
<area shape="rect" id="node22" href="Support_2LLVM_8h.html" title="mlir/Support/LLVM.h" alt="" coords="2566,377,2717,404"/>
<area shape="rect" id="node5" href="Block_8h.html" title="mlir/IR/Block.h" alt="" coords="427,459,544,486"/>
<area shape="rect" id="node6" href="IR_2BuiltinAttributes_8h.html" title="mlir/IR/BuiltinAttributes.h" alt="" coords="700,459,887,486"/>
<area shape="rect" id="node7" href="IR_2Diagnostics_8h.html" title="mlir/IR/Diagnostics.h" alt="" coords="213,377,371,404"/>
<area shape="rect" id="node8" href="OperationSupport_8h.html" title="mlir/IR/OperationSupport.h" alt="" coords="696,377,891,404"/>
<area shape="rect" id="node9" href="IR_2Region_8h.html" title="mlir/IR/Region.h" alt="" coords="395,377,520,404"/>
<area shape="rect" id="node12" href="Builders_8h.html" title="mlir/IR/Builders.h" alt="" coords="1737,377,1871,404"/>
<area shape="rect" id="node13" href="BuiltinOps_8h.html" title="mlir/IR/BuiltinOps.h" alt="" coords="2257,377,2405,404"/>
<area shape="rect" id="node14" href="OpImplementation_8h.html" title="mlir/IR/OpImplementation.h" alt="" coords="2117,459,2320,486"/>
<area shape="rect" id="node16" href="SymbolTable_8h.html" title="mlir/IR/SymbolTable.h" alt="" coords="1058,459,1222,486"/>
<area shape="rect" id="node18" href="CastInterfaces_8h.html" title="mlir/Interfaces/CastInterfaces.h" alt="" coords="2797,459,3024,486"/>
<area shape="rect" id="node19" href="SideEffectInterfaces_8h.html" title="mlir/Interfaces/SideEffect\lInterfaces.h" alt="" coords="3048,452,3235,493"/>
<area shape="rect" id="node15" href="IR_2BuiltinTypes_8h.html" title="mlir/IR/BuiltinTypes.h" alt="" coords="2277,541,2437,568"/>
<area shape="rect" id="node27" href="AllocationOpInterface_8h.html" title="mlir/Dialect/Bufferization\l/IR/AllocationOpInterface.h" alt="" coords="1369,288,1565,329"/>
<area shape="rect" id="node28" href="CopyOpInterface_8h.html" title="mlir/Interfaces/CopyOpInterface.h" alt="" coords="1628,206,1871,233"/>
<area shape="rect" id="node29" href="InferTypeOpInterface_8h.html" title="mlir/Interfaces/InferType\lOpInterface.h" alt="" coords="2528,288,2709,329"/>
<area shape="rect" id="node33" href="DialectConversion_8h.html" title="mlir/Transforms/DialectConversion.h" alt="" coords="3877,206,4136,233"/>
<area shape="rect" id="node39" href="IR_2Dialect_8h.html" title="mlir/IR/Dialect.h" alt="" coords="730,295,857,322"/>
<area shape="rect" id="node40" href="FunctionInterfaces_8h.html" title="mlir/IR/FunctionInterfaces.h" alt="" coords="1825,295,2025,322"/>
<area shape="rect" id="node41" href="CallInterfaces_8h.html" title="mlir/Interfaces/CallInterfaces.h" alt="" coords="881,295,1103,322"/>
<area shape="rect" id="node42" href="ControlFlowInterfaces_8h.html" title="mlir/Interfaces/ControlFlow\lInterfaces.h" alt="" coords="2834,288,3033,329"/>
<area shape="rect" id="node46" href="ReshapeOpsUtils_8h.html" title="mlir/Dialect/Utils\l/ReshapeOpsUtils.h" alt="" coords="2978,199,3126,240"/>
<area shape="rect" id="node47" href="ShapedOpInterfaces_8h.html" title="mlir/Interfaces/ShapedOp\lInterfaces.h" alt="" coords="3259,199,3445,240"/>
<area shape="rect" id="node48" href="ViewLikeInterface_8h.html" title="mlir/Interfaces/ViewLike\lInterface.h" alt="" coords="2273,288,2453,329"/>
</map>
</div>
</div>
<p><a href="OneShotModuleBufferize_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7c635be8db858cd73e9e8dd573118dde"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#a7c635be8db858cd73e9e8dd573118dde">FuncCallerMap</a> = <a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; func::FuncOp, <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> * &gt; &gt;</td></tr>
<tr class="memdesc:a7c635be8db858cd73e9e8dd573118dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mapping of FuncOps to their callers.  <a href="#a7c635be8db858cd73e9e8dd573118dde">More...</a><br /></td></tr>
<tr class="separator:a7c635be8db858cd73e9e8dd573118dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed4d73c243091950381a136d9fdca09a"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html">FuncAnalysisState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#aed4d73c243091950381a136d9fdca09a">getFuncAnalysisState</a> (const <a class="el" href="classmlir_1_1AnalysisState.html">AnalysisState</a> &amp;state)</td></tr>
<tr class="memdesc:aed4d73c243091950381a136d9fdca09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get FuncAnalysisState.  <a href="#aed4d73c243091950381a136d9fdca09a">More...</a><br /></td></tr>
<tr class="separator:aed4d73c243091950381a136d9fdca09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccfc39fb17966e66e50f828a9bec31d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html">FuncAnalysisState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#aaccfc39fb17966e66e50f828a9bec31d">getFuncAnalysisState</a> (<a class="el" href="classmlir_1_1AnalysisState.html">AnalysisState</a> &amp;state)</td></tr>
<tr class="memdesc:aaccfc39fb17966e66e50f828a9bec31d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get or create FuncAnalysisState.  <a href="#aaccfc39fb17966e66e50f828a9bec31d">More...</a><br /></td></tr>
<tr class="separator:aaccfc39fb17966e66e50f828a9bec31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f58f0869e351d5745146073a79aa10"><td class="memItemLeft" align="right" valign="top">static LLVM_ATTRIBUTE_UNUSED <a class="el" href="namespacemlir_1_1bufferization_1_1func__ext.html#a6476253be218223ddfd7569b0d0d3a5e">FuncOpAnalysisState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#ae5f58f0869e351d5745146073a79aa10">getFuncOpAnalysisState</a> (const <a class="el" href="classmlir_1_1AnalysisState.html">AnalysisState</a> &amp;state, func::FuncOp funcOp)</td></tr>
<tr class="memdesc:ae5f58f0869e351d5745146073a79aa10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the state (phase) of analysis of the FuncOp.  <a href="#ae5f58f0869e351d5745146073a79aa10">More...</a><br /></td></tr>
<tr class="separator:ae5f58f0869e351d5745146073a79aa10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7019b4cb6c71eb780ab91628e55275"><td class="memItemLeft" align="right" valign="top">static func::ReturnOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#aee7019b4cb6c71eb780ab91628e55275">getAssumedUniqueReturnOp</a> (func::FuncOp funcOp)</td></tr>
<tr class="memdesc:aee7019b4cb6c71eb780ab91628e55275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the unique ReturnOp that terminates <code>funcOp</code>.  <a href="#aee7019b4cb6c71eb780ab91628e55275">More...</a><br /></td></tr>
<tr class="separator:aee7019b4cb6c71eb780ab91628e55275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799129c21d19fec1fa27e9c4b2e208d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#a799129c21d19fec1fa27e9c4b2e208d5">removeBufferizationAttributes</a> (<a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a> bbArg)</td></tr>
<tr class="memdesc:a799129c21d19fec1fa27e9c4b2e208d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove bufferization attributes on FuncOp arguments.  <a href="#a799129c21d19fec1fa27e9c4b2e208d5">More...</a><br /></td></tr>
<tr class="separator:a799129c21d19fec1fa27e9c4b2e208d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569a1939dacdcc009b01d39b41fa1492"><td class="memItemLeft" align="right" valign="top">static func::FuncOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#a569a1939dacdcc009b01d39b41fa1492">getCalledFunction</a> (<a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1CallOpInterface.html">CallOpInterface</a> callOp)</td></tr>
<tr class="memdesc:a569a1939dacdcc009b01d39b41fa1492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the func::FuncOp called by <code>callOp</code>.  <a href="#a569a1939dacdcc009b01d39b41fa1492">More...</a><br /></td></tr>
<tr class="separator:a569a1939dacdcc009b01d39b41fa1492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367ef26b0605160683c254c46b223b76"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#a367ef26b0605160683c254c46b223b76">equivalenceAnalysis</a> (func::FuncOp funcOp, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1OneShotAnalysisState.html">OneShotAnalysisState</a> &amp;state)</td></tr>
<tr class="memdesc:a367ef26b0605160683c254c46b223b76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather equivalence info of CallOps.  <a href="#a367ef26b0605160683c254c46b223b76">More...</a><br /></td></tr>
<tr class="separator:a367ef26b0605160683c254c46b223b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49795ead3bc9c40c8e3c1d39562a1e9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#a49795ead3bc9c40c8e3c1d39562a1e9e">getFuncOpsOrderedByCalls</a> (ModuleOp moduleOp, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; func::FuncOp &gt; &amp;orderedFuncOps, <a class="el" href="OneShotModuleBufferize_8cpp.html#a7c635be8db858cd73e9e8dd573118dde">FuncCallerMap</a> &amp;callerMap)</td></tr>
<tr class="memdesc:a49795ead3bc9c40c8e3c1d39562a1e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store all functions of the <code>moduleOp</code> in <code>orderedFuncOps</code>, sorted by callee-caller order (i.e.  <a href="#a49795ead3bc9c40c8e3c1d39562a1e9e">More...</a><br /></td></tr>
<tr class="separator:a49795ead3bc9c40c8e3c1d39562a1e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7d307125d0ff2f82216954a2372950"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotModuleBufferize_8cpp.html#a9e7d307125d0ff2f82216954a2372950">foldMemRefCasts</a> (func::FuncOp funcOp)</td></tr>
<tr class="memdesc:a9e7d307125d0ff2f82216954a2372950"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fold return values that are memref casts and update function return types.  <a href="#a9e7d307125d0ff2f82216954a2372950">More...</a><br /></td></tr>
<tr class="separator:a9e7d307125d0ff2f82216954a2372950"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7c635be8db858cd73e9e8dd573118dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c635be8db858cd73e9e8dd573118dde">&#9670;&nbsp;</a></span>FuncCallerMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="OneShotModuleBufferize_8cpp.html#a7c635be8db858cd73e9e8dd573118dde">FuncCallerMap</a> =  <a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt;func::FuncOp, <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt;<a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A mapping of FuncOps to their callers. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00077">77</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a367ef26b0605160683c254c46b223b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a367ef26b0605160683c254c46b223b76">&#9670;&nbsp;</a></span>equivalenceAnalysis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> equivalenceAnalysis </td>
          <td>(</td>
          <td class="paramtype">func::FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1OneShotAnalysisState.html">OneShotAnalysisState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gather equivalence info of CallOps. </p>
<p>Note: This only adds new equivalence info if the called function was already analyzed. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00247">247</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Visitors_8h_source.html#l00051">mlir::WalkResult::advance()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00048">mlir::bufferization::func_ext::FuncAnalysisState::equivalentFuncArgs</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00093">mlir::bufferization::func_ext::getCalledFunction()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00103">mlir::bufferization::func_ext::getFuncAnalysisState()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00215">mlir::bufferization::OneShotAnalysisState::isInPlace()</a>, <a class="el" href="Visitors_8h_source.html#l00052">mlir::WalkResult::skip()</a>, and <a class="el" href="OneShotAnalysis_8h_source.html#l00079">mlir::bufferization::BufferizationAliasInfo::unionEquivalenceClasses()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00357">mlir::bufferization::analyzeModuleOp()</a>.</p>

</div>
</div>
<a id="a9e7d307125d0ff2f82216954a2372950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7d307125d0ff2f82216954a2372950">&#9670;&nbsp;</a></span>foldMemRefCasts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> foldMemRefCasts </td>
          <td>(</td>
          <td class="paramtype">func::FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fold return values that are memref casts and update function return types. </p>
<p>During FuncOp bufferization, the exact type of the returned memrefs (if any) is not known yet. Therefore, the bufferization uses memref types with the most generic layout map as function return types. After bufferizing the entire function body, a more concise memref type can potentially be used for the return type of the function. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00335">335</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00047">mlir::bufferization::func_ext::getAssumedUniqueReturnOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00403">mlir::bufferization::bufferizeModuleOp()</a>.</p>

</div>
</div>
<a id="aee7019b4cb6c71eb780ab91628e55275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7019b4cb6c71eb780ab91628e55275">&#9670;&nbsp;</a></span>getAssumedUniqueReturnOp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static func::ReturnOp getAssumedUniqueReturnOp </td>
          <td>(</td>
          <td class="paramtype">func::FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the unique ReturnOp that terminates <code>funcOp</code>. </p>
<p>Return nullptr if there is no such unique ReturnOp. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00109">109</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00051">mlir::bufferization::func_ext::FuncAnalysisState::aliasingFuncArgs</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00054">mlir::bufferization::func_ext::FuncAnalysisState::aliasingReturnVals</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00224">mlir::bufferization::OneShotAnalysisState::areAliasingBufferizedValues()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00219">mlir::bufferization::OneShotAnalysisState::areEquivalentBufferizedValues()</a>, <a class="el" href="Attributes_8h_source.html#l00137">mlir::Attribute::cast()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00048">mlir::bufferization::func_ext::FuncAnalysisState::equivalentFuncArgs</a>, <a class="el" href="UseDefLists_8h_source.html#l00137">mlir::IROperand&lt; DerivedT, IRValueT &gt;::get()</a>, <a class="el" href="Value_8h_source.html#l00308">mlir::BlockArgument::getArgNumber()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00047">mlir::bufferization::func_ext::getAssumedUniqueReturnOp()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00371">mlir::Operation::getAttr()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00147">mlir::Operation::getContext()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00103">mlir::bufferization::func_ext::getFuncAnalysisState()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00263">mlir::Operation::getNumOperands()</a>, <a class="el" href="Value_8cpp_source.html#l00212">mlir::OpOperand::getOperandNumber()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00460">mlir::bufferization::AnalysisState::getOptions()</a>, <a class="el" href="UseDefLists_8h_source.html#l00040">mlir::detail::IROperandBase::getOwner()</a>, <a class="el" href="Value_8h_source.html#l00114">mlir::Value::getType()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00385">mlir::Operation::hasAttr()</a>, <a class="el" href="IR_2Types_8h_source.html#l00259">mlir::Type::isa()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00376">mlir::bufferization::AnalysisState::isValueRead()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00303">mlir::bufferization::OneShotAnalysisState::isValueWritten()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00057">mlir::bufferization::func_ext::FuncAnalysisState::readBbArgs</a>, <a class="el" href="IR_2Operation_8h_source.html#l00395">mlir::Operation::setAttr()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00296">mlir::bufferization::BufferizationOptions::testAnalysisOnly</a>, and <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00060">mlir::bufferization::func_ext::FuncAnalysisState::writtenBbArgs</a>.</p>

</div>
</div>
<a id="a569a1939dacdcc009b01d39b41fa1492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a569a1939dacdcc009b01d39b41fa1492">&#9670;&nbsp;</a></span>getCalledFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static func::FuncOp getCalledFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1CallOpInterface.html">CallOpInterface</a>&#160;</td>
          <td class="paramname"><em>callOp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the func::FuncOp called by <code>callOp</code>. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00235">235</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="SymbolTable_8cpp_source.html#l00384">mlir::SymbolTable::lookupNearestSymbolFrom()</a>.</p>

</div>
</div>
<a id="aed4d73c243091950381a136d9fdca09a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4d73c243091950381a136d9fdca09a">&#9670;&nbsp;</a></span>getFuncAnalysisState() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html">FuncAnalysisState</a>&amp; getFuncAnalysisState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1AnalysisState.html">AnalysisState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get FuncAnalysisState. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00081">81</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

</div>
</div>
<a id="aaccfc39fb17966e66e50f828a9bec31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaccfc39fb17966e66e50f828a9bec31d">&#9670;&nbsp;</a></span>getFuncAnalysisState() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html">FuncAnalysisState</a>&amp; getFuncAnalysisState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1AnalysisState.html">AnalysisState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get or create FuncAnalysisState. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00090">90</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

</div>
</div>
<a id="ae5f58f0869e351d5745146073a79aa10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5f58f0869e351d5745146073a79aa10">&#9670;&nbsp;</a></span>getFuncOpAnalysisState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LLVM_ATTRIBUTE_UNUSED <a class="el" href="namespacemlir_1_1bufferization_1_1func__ext.html#a6476253be218223ddfd7569b0d0d3a5e">FuncOpAnalysisState</a> getFuncOpAnalysisState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1AnalysisState.html">AnalysisState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">func::FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the state (phase) of analysis of the FuncOp. </p>
<p>Used for debug modes. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00098">98</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html#l00064">mlir::bufferization::func_ext::FuncAnalysisState::analyzedFuncOps</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00103">mlir::bufferization::func_ext::getFuncAnalysisState()</a>, and <a class="el" href="namespacemlir_1_1bufferization_1_1func__ext.html#a6476253be218223ddfd7569b0d0d3a5ea6790e98a68d12312386197ef73c85563">mlir::bufferization::func_ext::NotAnalyzed</a>.</p>

</div>
</div>
<a id="a49795ead3bc9c40c8e3c1d39562a1e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49795ead3bc9c40c8e3c1d39562a1e9e">&#9670;&nbsp;</a></span>getFuncOpsOrderedByCalls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> getFuncOpsOrderedByCalls </td>
          <td>(</td>
          <td class="paramtype">ModuleOp&#160;</td>
          <td class="paramname"><em>moduleOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; func::FuncOp &gt; &amp;&#160;</td>
          <td class="paramname"><em>orderedFuncOps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="OneShotModuleBufferize_8cpp.html#a7c635be8db858cd73e9e8dd573118dde">FuncCallerMap</a> &amp;&#160;</td>
          <td class="paramname"><em>callerMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store all functions of the <code>moduleOp</code> in <code>orderedFuncOps</code>, sorted by callee-caller order (i.e. </p>
<p>callees without callers first). Store the map of FuncOp to all its callers in <code>callerMap</code>. Return <code><a class="el" href="namespacemlir.html#a07367c8c4a3d4a47a32bc2b9b7d8a3f4" title="Utility function to generate a LogicalResult. ">failure()</a></code> if a cycle of calls is detected or if we are unable to retrieve the called FuncOp from any CallOpInterface. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00279">279</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00357">mlir::bufferization::analyzeModuleOp()</a>, and <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00403">mlir::bufferization::bufferizeModuleOp()</a>.</p>

</div>
</div>
<a id="a799129c21d19fec1fa27e9c4b2e208d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a799129c21d19fec1fa27e9c4b2e208d5">&#9670;&nbsp;</a></span>removeBufferizationAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> removeBufferizationAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a>&#160;</td>
          <td class="paramname"><em>bbArg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove bufferization attributes on FuncOp arguments. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00226">226</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00308">mlir::BlockArgument::getArgNumber()</a>, <a class="el" href="Value_8h_source.html#l00305">mlir::BlockArgument::getOwner()</a>, and <a class="el" href="Block_8cpp_source.html#l00030">mlir::Block::getParentOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00403">mlir::bufferization::bufferizeModuleOp()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 4 2022 16:35:30 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
